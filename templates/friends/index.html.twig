{% extends 'layout/tracker.html.twig' %}

{% block title %}Friends{% endblock %}

{% block body %}
    <div class="row small-device mt-4 mb-5">
        <div class="col-12 col-lg-10 col-xl-8 mx-auto text-right">
            <h1 class="text-center">My Friends</h1>
            <div class="fancy-container bx-d-sm-0 p-2 p-sm-3">
               {% if friends is null %}
                <p class="text-center">
                    Sorry, but your friends list is empty :(
                </p>
               {% else %}
                    {% for f in friends %}
                        {% if f.user != user %}
                        <div class="d-flex friends-block">
                            <img src="{{ path('avatar', {id:f.user.id}) }}" class="mr-2 mr-sm-3" />
                            <p>
                                <a class="no-decoration" href="{{ path('user.profile.id', {id:f.user.id}) }}">
                                    <b>{{ f.user.username }}</b>
                                </a><br />
                                <span class="dark-gray"></span>
                            </p>
                            <div class="ml-auto">
                                <a href="{{ path('message.send', {id:f.user.id}) }}" class="btn no-decoration">Send PM</a>
                                <a href="{{ path('friend.remove', {id:f.user.id}) }}" class="d-none d-sm-inline-block btn no-decoration">Remove</a>
                            </div>
                        </div>
                        {% endif %}
                        {% if f.friend != user %}
                            <div class="d-flex friends-block">
                                <img src="{{ path('avatar', {id:f.friend.id}) }}" class="mr-2 mr-sm-3" />
                                <p>
                                    <a class="no-decoration" href="{{ path('user.profile.id', {id:f.friend.id}) }}">
                                        <b>{{ f.friend.username }}</b>
                                    </a><br />
                                    <span class="dark-gray"></span>
                                </p>
                                <div class="ml-auto">
                                    <a href="{{ path('message.send', {id:f.friend.id}) }}" class="btn no-decoration">Send PM</a>
                                    <a href="/remove_friend/" class="d-none d-sm-inline-block btn no-decoration">Remove</a>
                                </div>
                            </div>
                        {% endif %}
                    {% endfor %}
                {% endif %}
            </div>
        </div>
    </div>
{% endblock %}
